; .sgconfig file used for testing

[defaults]
SG_LOGLEVEL=WARNING
SG_NAMESPACE=splitgraph
SG_ENGINE_HOST=localhost
SG_ENGINE_PORT=5432
SG_ENGINE_DB_NAME=${SG_NAMESPACE}
SG_ENGINE_USER=sgr
SG_ENGINE_PWD=supersecure
SG_ENGINE_ADMIN_USER=sgr
SG_ENGINE_ADMIN_PWD=supersecure
SG_ENGINE_POSTGRES_DB_NAME=postgres
SG_META_SCHEMA=splitgraph_meta

; Must be accessible from both the host and the actual engine container
SG_S3_HOST=objectstorage
SG_S3_PORT=9000
SG_S3_KEY=minioclient
SG_S3_PWD=supersecure

; Look up repositories on the test remote engine.
SG_REPO_LOOKUP=remote_engine

; Test the lookup override works
SG_REPO_LOOKUP_OVERRIDE=overridden/repo:LOCAL

[remote: remote_engine]
SG_ENGINE_HOST=remote_engine
SG_ENGINE_PORT=5431
SG_ENGINE_DB_NAME=splitgraph
SG_ENGINE_USER=sgr
SG_ENGINE_PWD=supersecure
SG_ENGINE_ADMIN_USER=sgr
SG_ENGINE_ADMIN_PWD=supersecure
SG_ENGINE_POSTGRES_DB_NAME=postgres
SG_META_SCHEMA=splitgraph_meta
SG_ENGINE_OBJECT_PATH=/var/lib/splitgraph/objects

; Used in security tests. We currently rely on remote_engine being accessed as a superuser for the rest of the
; test suite: only in test/splitgraph/test_security.py do we use this engine to test accessing a remote engine
; as an unprivileged user.
[remote: unprivileged_remote_engine]
SG_ENGINE_HOST=remote_engine
SG_ENGINE_PORT=5431
SG_ENGINE_FDW_HOST=remote_engine
SG_ENGINE_FDW_PORT=5431
SG_ENGINE_DB_NAME=splitgraph
SG_ENGINE_USER=testuser
SG_ENGINE_PWD=testpassword
SG_ENGINE_ADMIN_USER=
SG_ENGINE_ADMIN_PWD=
SG_ENGINE_POSTGRES_DB_NAME=postgres
SG_META_SCHEMA=splitgraph_meta

[commands]
DUMMY=test.splitgraph.splitfile.test_custom_commands.DummyCommand
BOBBYTABLES=test.splitgraph.splitfile.test_custom_commands.CalcHashTestCommand
BROKEN1=some.module.that.definitely.doesnt.Exist
BROKEN2=test.splitgraph.splitfile.test_custom_commands.NonexistentCommand

[mount_handlers]
postgres_fdw=splitgraph.hooks.mount_handlers.mount_postgres
mongo_fdw=splitgraph.hooks.mount_handlers.mount_mongo
mysql_fdw=splitgraph.hooks.mount_handlers.mount_mysql

[external_handlers]
S3=splitgraph.core.cstore.CStoreS3ExternalObjectHandler
